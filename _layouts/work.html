---
layout: default
---

{% assign works = site.works | sort: 'title' %}
{% for work in works %}
    {% if work.url == page.url %}
        {% assign current_index = forloop.index0 %}
        {% break %}
    {% endif %}
{% endfor %}

{% assign prev_index = current_index | minus: 1 %}
{% assign next_index = current_index | plus: 1 %}
{% assign last_index = works.size | minus: 1 %}

{% if current_index > 0 %}
    {% assign prev_work = works[prev_index] %}
{% else %}
    {% assign prev_work = works.last %}
{% endif %}

{% if next_index <= last_index %}
    {% assign next_work = works[next_index] %}
{% else %}
    {% assign next_work = works.first %}
{% endif %}

{% include schema-artwork.html %}

<nav class="work-nav top">
    <a href="{{ prev_work.url | relative_url }}" class="work-nav-btn prev">
        <span class="arrow">←</span>
        <span class="label">Previous</span>
    </a>
    <a href="{{ '/gallery/' | relative_url }}" class="work-nav-btn gallery">Gallery</a>
    <a href="{{ next_work.url | relative_url }}" class="work-nav-btn next">
        <span class="label">Next</span>
        <span class="arrow">→</span>
    </a>
</nav>

<h1>{{ page.title }}</h1>

<p class="meta">{{ page.year }}{% if page.materials %} &middot; {{ page.materials }}{% endif %}</p>

{% if page.image %}
<img class="hero" src="{{ page.image | relative_url }}" alt="{{ page.alt_text | default: page.title | append: ' - sculpture by Peter Mitten' }}">
{% endif %}

<div class="work-content">
{{ content }}
</div>

{% if page.gallery_images %}
<div class="grid detail">
    {% for img in page.gallery_images %}
    <img src="{{ img.src | relative_url }}" alt="{{ img.caption | default: page.title | append: ' - detail' }}">
    {% endfor %}
</div>
{% endif %}

<nav class="work-nav">
    <a href="{{ prev_work.url | relative_url }}" class="work-nav-btn prev">
        <span class="arrow">←</span>
        <span class="label">Previous</span>
    </a>
    <a href="{{ '/gallery/' | relative_url }}" class="work-nav-btn gallery">Gallery</a>
    <a href="{{ next_work.url | relative_url }}" class="work-nav-btn next">
        <span class="label">Next</span>
        <span class="arrow">→</span>
    </a>
</nav>
