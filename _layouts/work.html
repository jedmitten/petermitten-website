---
layout: default
---

{% assign works = site.works | sort: 'title' %}
{% for work in works %}
    {% if work.url == page.url %}
        {% assign current_index = forloop.index %}
        {% break %}
    {% endif %}
{% endfor %}

{% assign prev_index = current_index | minus: 1 %}
{% assign next_index = current_index | plus: 1 %}

{% if prev_index > 0 %}
    {% assign prev_work = works[prev_index] %}
{% else %}
    {% assign prev_work = works.last %}
{% endif %}

{% if next_index <= works.size %}
    {% assign next_work = works[next_index] %}
{% else %}
    {% assign next_work = works.first %}
{% endif %}

<nav class="work-nav">
    <a href="{{ prev_work.url | relative_url }}" class="work-nav-btn prev">
        <span class="arrow">←</span>
        <span class="label">Previous</span>
    </a>
    <a href="{{ '/gallery/' | relative_url }}" class="work-nav-btn gallery">Gallery</a>
    <a href="{{ next_work.url | relative_url }}" class="work-nav-btn next">
        <span class="label">Next</span>
        <span class="arrow">→</span>
    </a>
</nav>

<h1>{{ page.title }}</h1>

{% if page.image %}
<img class="hero" src="{{ page.image | relative_url }}">
{% endif %}

<p class="meta">
    {{ page.year }}{% if page.materials %} • {{ page.materials }}{% endif %}
</p>

{{ content }}

{% if page.gallery_images %}
<div class="grid detail">
    {% for img in page.gallery_images %}
    <img src="{{ img.src | relative_url }}">
    {% endfor %}
</div>
{% endif %}

<nav class="work-nav">
    <a href="{{ prev_work.url | relative_url }}" class="work-nav-btn prev">
        <span class="arrow">←</span>
        <span class="label">Previous</span>
    </a>
    <a href="{{ '/gallery/' | relative_url }}" class="work-nav-btn gallery">Gallery</a>
    <a href="{{ next_work.url | relative_url }}" class="work-nav-btn next">
        <span class="label">Next</span>
        <span class="arrow">→</span>
    </a>
</nav>
